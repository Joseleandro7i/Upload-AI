<div class="min-h-screen flex flex-col">
  <div class="px-6 py-3 flex items-center justify-between border-b">
    <div class="flex justify-evenly items-center">
      <h1 class="text-xl font-bold">Upload</h1>
      <img src="../../public/img/logo-site.png" alt="Logo do site" class="max-w-[4.7rem] mx-2 max-h-[4.7rem]" />
    </div>
    <div class="flex items-center gap-3">
      <span class="text-sm text-muted-foreground">Desenvolvido por Jos√© leandro com üíú no NLW da Rocketseat</span>

      <SeparatorComponent orientation="vertical" class="h-6" ></SeparatorComponent>

      <button [attr.variant]="'outline'">
        <i class="fab fa-github"></i>
        GitHub
      </button>
    </div>
  </div>

  <main class="flex-1 p-6 flex gap-6">
    <div class="flex flex-col flex-1 gap-4">
      <div class="grid grid-rows-2 gap-4 flex-1">
        <textarea
          placeholder="Inclua o prompt para IA..."
          class="resize-none p-4 leading-relaxed"
          value={input}
          onChange={handleInputChange}
        ></textarea>
        <textarea
          placeholder="Resultado gerado por AI..."
          class="resize-none p-4 leading-relaxed"
          readOnly
          value={completion}
        ></textarea>
      </div>

      <p class="text-sm text-muted-foreground">
        Lembre-se: voc√™ pode utilizar a vari√°vel <code>{{ '{transcription}' }}</code> no seu prompt para adicionar o conte√∫do da transcri√ß√£o do v√≠deo selecionado.
      </p>      
    </div>

    <aside class="w-80 space-y-6">

      <VideoInputFormComponent (videoUploaded)="setVideoId($event)" ></VideoInputFormComponent>

      <SeparatorComponent />

      <form onSubmit={handleSubmit} class="space-y-6">
        <div class="space-y-2">
          <label>Prompt</label>
          <PromptSelectComponent (promptSelected)="setInput($event)"></PromptSelectComponent>
        </div>

        <div class="space-y-2">
          <label>Modelo</label>

          <!-- <select disabled defaultValue="gpt3.5">
            <selectTrigger>
              <selectValue />
            </selectTrigger>
            <selectContent>
              <selectItem value="gpt3.5">GPT 3.5-turbo 16k</selectItem>
            </selectContent>
          </select> -->
          <SelectComponent />
          <span class="block text-xs text-muted-foreground italic">Voc√™ poder√° customizar essa op√ß√£o em breve</span>

        </div>

        <SeparatorComponent />

        <div class="space-y-4">
          <label>Temperatura</label>

          <SliderComponent
            min={0}
            max={1}
            step={0.1}
            value={[temperature]}
            (valueChange)="setTemperature($event.value)"
          />
          <span class="block text-xs text-muted-foreground italic leading-relaxed">
            valores mais altos tendem a deixar o resultado mais criativo e com poss√≠veis erros.
          </span>

          <SeparatorComponent />

          <button disabled={isLoading} type="submit" class="w-full">
            Executar
            <Wand2 class="w-4 h-4 ml-2" />
          </button>

        </div>
      </form>
    </aside>
  </main>
</div>

<router-outlet />



<div class="min-vh-100 d-flex flex-column">
  <div class="px-3 py-2 d-flex justify-content-between border-bottom">
    <div class="d-flex align-items-center">
      <h1 class="h5">Upload</h1>
      <img src="/assets/logo.png" alt="Logo do site" class="mx-2" style="max-width: 4.7rem; max-height: 4.7rem;">
    </div>
    <div class="d-flex align-items-center gap-3">
      <span class="text-muted">Desenvolvido por Jos√© Leandro com üíú no NLW da Rocketseat</span>

      <SeparatorComponent orientation="vertical" class="h-6" />

      <button class="btn btn-outline-secondary">
        <i class="bi bi-github"></i> GitHub
      </button>
    </div>
  </div>

  <main class="flex-fill p-3 d-flex gap-3">
    <div class="flex-fill d-flex flex-column gap-3">
      <div class="d-grid gap-3 flex-fill">
        <textarea placeholder="Inclua o prompt para IA..." class="form-control" [(ngModel)]="input" (ngModelChange)="handleInputChange($event)"></textarea>
        <textarea placeholder="Resultado gerado por AI..." class="form-control" [readonly]="true" [(ngModel)]="completion"></textarea>
      </div>

      <p class="text-muted">
        Lembre-se: voc√™ pode utilizar a vari√°vel <code>{{ "{transcription}" }}</code> no seu prompt para adicionar o conte√∫do da transcri√ß√£o do v√≠deo selecionado.
      </p>
    </div>

    <aside class="w-25">
      <app-video-input-form (videoUploaded)="setVideoId($event)"></app-video-input-form>
      <form (submit)="handleSubmit($event)" class="mt-3">
        <div class="mb-3">
          <label class="form-label">Prompt</label>
          <promptSelect (PromptSelected)="SelectInput($event)" />
        </div>
        
        <div class="mb-3">
          <label class="form-label">Modelo</label>
          <select class="form-select" disabled defaultValue="gpt3.5">
            <option value="gpt3.5">GPT 3.5-turbo 16k</option>
          </select>
          <small class="form-text text-muted fst-italic">
            Voc√™ poder√° customizar essa op√ß√£o em breve
          </small>
        </div>
        
        <hr />
        
        <div class="mb-4">
          <label class="form-label">Temperatura</label>
          <input
            type="range"
            class="form-range"
            min="0"
            max="1"
            step="0.1"
            value={temperature}
            (change)="onTemperatureChange($event)"
          >
          <small class="form-text text-muted fst-italic">
            Valores mais altos tendem a deixar o resultado mais criativo e com poss√≠veis erros.
          </small>
        </div>
        
        <hr />
        
        <button
          class="btn btn-primary w-100"
          disabled={isLoading}
          type="submit"
        >
          Executar
          <wand2 class="ms-2" />
        </button>        
        
      </form>
    </aside>
  </main>
</div>